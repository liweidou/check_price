# Automatically generated on 2020-05-25 UTC from https://codemagic.io/app/5ebea9990476740a4d3a19e0/settings
# Note that this configuration is not an exact match to UI settings. Review and adjust as necessary.

workflows:
  default-workflow:
    name: Default Workflow
    max_build_duration: 60
    environment:
      vars:
        CERTIFICATE_PRIVATE_KEY: Encrypted(Z0FBQUFBQmV5NHhNWU9Mc3hvdmt2ZklXU0ZSMVY5WFk0c0dFYmNqXzMxempYbzl6VkZURkFpZ0dnX2Z0STRrbDBYWnA1SFp5VWg0Wmw3MVRVU0lhb3ZpYzA1V3ZzOWVsVmRxd2lQQ2R6cnVNdEx0TFFha0c2WnZpblFwV0R5bHIwTmoxQnJtckZIWFN1VTBROHpldHBFX2QxcFFlcTBDYnJ3dWJlZXdqaEFMamZ0Wk9iTmVBODVkWVdlX1lmYjZXVmtMdngyeHJEcmt4UUhROFdTeGMxZUNUSDg4NWFQMmM0MHhqSVlqWVNILXNoYWdoaDdJVFFvZ0dNdDYzenlLTWFwM1piM3otQkpwTXBSNm9yTXRVUEVnY2F6UkdoUEs2a2ZrTms3eVhtal9SN1BvaHNMM1hRNXhsY2s1YVVGbkI3dGNjTGd5Tm1weEZJNFVqOHVHa1kzQmhWdzJMa2U3SE1vbi1RZHpxS1dXcHpTTnRyQVY4TFpLbklEd29nSGVXbG5GMk9xY0JGd0hwV0hXZ180YXBGbWN1X2pOUWhuUDFuWmpNTkhLY3UxMUxBMXBWQjBEVmN2blFfcGhpY2IxN1hnLU1nQXZHRzVNa1RVU2dlODF0Xy05QVRsTjFuNjZqcWx5dkdzTEVJYTUtdFlOay1RYzVTakZmcFlKQlZwZWxJQ3pzV0VXRXFXTjRuTVViWjB3MW1hbVk0U3JjUkhBRzdkdk4yb0ZvaWxzbVRvNWFuaS14dXJBSkM2U3IwWVg2S09pOTZmX2RyR1VKZnpWdC1TTE5Hc0ZZdUF0NnpPM0N6WHM5eDFWNHIzUG1KUEFLanJTWS1rUXVwNlVTY0syc0xxWnpQb3V5UER6TENIZERzazI0MkMxUzFVY3VhWU15WEdxZ3FDQWdEamliQzdHU1RpQ25mYjhYeUlCOW4tUnFsV0RZNXBkX0pydXlCRS1ZUXdGTy1tMTZjVk5rRjlxM01Na1hHMUtBRVF6dWN6Nk9oYTYwNDMzQjhCa1VfUlh0Tm9DWGlzYVFRM3NTRjBNaElCVDhHakRxZUdnaUh5X0w0N3VFTXRkZmdsQktkLVUybXRBNGNkdVRQc2pDMjNieVM1VlY3TDROU1FxWFJrMWI1RUVRWFhXMnVGdzhLTTM5T2lZWmZ5cFRXd0YzUjhYN2V3NmJ4RHM5YUs1Y0hVZDFJYW0wSlhfTW9VaGhUYm5iRkE1SmRIRlhhZDlJNG83Tl9hSUUxdjZ1Mm5HUmptVnY5YzJpaXRfcHkxMExqblZwUkQ4elJYa3o0QkZZUHZCZnloSEloQ2czSUhuT18yb0UxN0NqdGwxRy1hOEcwelNIWXlzSGpQNTNpTElJZ0tPNUdZWUhQRHZYelFJVnh6S3hBOS1sLVFFOHpaNmZ6MEVicnhEaHpNNnFuVEEtdFoxNlRIWU45cmhqWmNIbm1CU3hpWVZhQ2NTY3hhTW1LX0dHb2ZZYm1keXhyVzYyWm9PTjk1ZG9yeEVKMDRVZVFDUnhDeWtiazc2Vi1fekczbGkzRTVwN2xrRmItZTdFMGw4X05XTzBIVzRDVVU3OWtVU0JXNGg0cXFOYV9uNjhUTVctMDQ5QnphM0I2Z2VHb3JhSmx5VkxoZUpOMFg2UHZEUGJ1eXZrR3JadGlSM1g0ZnJacEtRdVJvMWozenVlNkZ6WE9RS0RxTzJtWG80T2F2b3JjRWtXNkhpNG1YblJ1SlFWaXI4dE1TaVk1NlNUMzYtZEx5ZF94b2otVHVWQjFNZlVwb0NpbFZaaWhycWYzQjEwaGpFQVQxazJOUWJNdXRId19udFhjTzI0Zld3ckVySHN3NjJyTzg1b3hzeVEzRF9OTFItMEV3bVR3eDAxeFhiV3RtUkMyRDYtc2Zib1FOV2hnOXVPdVZUdDZtaDkwZUZva0dTSnktUGY2TjNMVnRoTFk5ejdEcVNVbDRjWXkza2d1TmoxZ2VtMXVzY0IzclAxYjU5cEVaUHM2aEFDUkVxOF9kZGdneXBqdkNtMkJCVzBDZjVWX2xXNUdmTFR2cnhWYWZtdlJSeVpSYUlUNlpYeTJod0xvZElWcEVoazVEOF9abWNrSlU0SXJuaE1uQzl0M21PUzk3dlJXMnVaWEFwdk9sV2xlbjV6T3NUa3MxVTFqT1VVMVlTVWZWeml2alRETzBHYVhXOXJYcVdLR2hKTW5oZGtTZjJlQWxvT183VnRRSDhLSTlvQ2d0YmdQVlN1T1c2NnFlbGE2czh4eXptWDdKSHlOMEROY2VEQzJfck5xb0l0a3BZZ195RHJHdzJ5bFA2Yng0bGszS0JJbmlNNG1iNGFscTVEZjBmRVZuUUFuWE9xcWlzVkpIWlNoMHVjckJoUllLT2dJcmlwTUdUTl9Ib1I1Qlp0X2xfVFExTzUtaHpGSUJuREpIc2J1ckt0aC0tUWpqNk5zemxaTDR6RzZPN2FSRmk4M2dwcWNfWF9EM3hhcXRDTHU3bEJmSy1zc3BkM2NWSFpONkxGWmNXNDgyamhSY1hrNEJtUTJ5UkttT1ZwX3c5bjRqYnlvNVZwaG9lekRzcGJ5T0pjQWw5YkQtaGVRajZDTE42eWVsS1VMcTYxMHMtaHlDTkJ6MGxSUEdfTmxwQmhIbVZsTEpXajlBYUIta2IyanJKREdnMjVlWDFXZ2NhUUIyNzhySk5raENISV9pT0F0TktxNWQxQnVvcXMtY3Z4ejZvT0lrRmJuOTJtUklNdXZLTE5LUzN4LUtfQmlzM1Q5aEFFaE1zSTVtNk9yaVhpV1NoUHpXY1R3ZGdwZTM1M0M0c2JtNHkyWnFNYlN6OG1kREZsMzgwZWFxcGtXWm1rUTZqUGloU20zdHhQX190aEVabHFYZEM1azh6dkprZFB5V3gwdDJQOVNGLWNlSUJydjJOUEY3cXc0NXVQVFpKWGxYd2JQSEpiNE5jaDMyeEs1Y1kzMW5abEZTMUNjQ1hybzNOeURPOElrZUdraFZobFdIVy1yUGhkVmQ0X2ZEWjk3dzlTTkppeVlZX2Vma1Y4amRpZWUtUGtxVWtKSENhekJkcFE0M0lMbGNhTkZYYUZpNVpB)
        APP_STORE_CONNECT_ISSUER_ID: Encrypted(Z0FBQUFBQmV5NHhNcTFScVlyc2k1SG05eGt1U1NzYU1XcVFLXzVEV2hvSEFfZ2VCZmRKcnIzU3FJa3ozQVJySTdnd1NYRWtUYXh5VENuMUpoa1N4R2dVTGZQWVNHRmNBX3lkcDcxRTBEb0Q2UmtZY3FrR2lrbzhQNFowQ3p3SEpYWFJGWERoT25yM1I=)
        APP_STORE_CONNECT_KEY_IDENTIFIER: Encrypted(Z0FBQUFBQmV5NHhNaW15cXY2NjVCSUR1S3NUM3dNLWpXcHhUcE9kM05iWUcwakJyUzREdTRoVXJnT0lmc19SVU9LMjk5cGNDS1NKcHo0UnQ5Ty12MDF6SXBHYzNiRDVDWXc9PQ==)
        APP_STORE_CONNECT_PRIVATE_KEY: Encrypted(Z0FBQUFBQmV5NHhNT3pLNDF2UHppbVVjV3JYaGx3Y0lnWlFsdEdqTTM0c1o4OUZVZklMUGpwQ3NvZGZZay0zYkpZejlIYWZHNWx2OXJ5QUkweW1kYzRPNWs4SW9ISlN3Tm1ZMzVuWVBnOU5CTEpjbVp3TlJNTkR2SloxbVR5Y0loQkZYa201VXZYWTQtN0lXQ09qX0NkY1Fhd0RYS2ZRLUREb19PbkttdXgtaVlKWDlqcmE3Y24zbWtHVnJONk1fZE9MckNiN0JTR1JsTG9ZUWhkUlJXTHZsZTgtNEpaVmZjSUFvYm1NczBLZXJtWVZXTlZlLWhtYUhLNGdESFBNWHhTbmhvanJNZWlJbFlVT3gta2FDZzVmOHNPQ1I3OWNfNVI2N2NuNndFRDFxdlRHNEJBSDUxUi1tQXJ2NHFWQjVXYmljUkdXS1BjTW5TLVd4aDFxTElYUzJVYXE0Z3pHeDZIVlhybU1mZEQ3elhaaFRWYkl0YTNNVFpfMkVSSVhCQmU5ZmExbUlUdmVPaVFZWmRtanBsWlhWUk9rd1R3XzhNaGFfbGUzQW1oMjhockREUHRTNGV0RT0=)
      flutter: master
      xcode: latest
      cocoapods: default
    scripts:
      - flutter packages pub get
      - find . -name "Podfile" -execdir pod install \;
      - keychain initialize
      - app-store-connect fetch-signing-files "$(xcode-project detect-bundle-id)"
        --type IOS_APP_ADHOC --create
      - keychain add-certificates
      - flutter build ios --release
      - xcode-project use-profiles
      - xcode-project build-ipa --workspace "ios/Runner.xcworkspace" --scheme "Runner"
    artifacts:
      - build/ios/ipa/*.ipa
      - /tmp/xcodebuild_logs/*.log
      - flutter_drive.log
    publishing:
      email:
        recipients:
          - liweidou2019@163.com
